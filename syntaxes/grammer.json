{
    "$schema": "https://raw.githubusercontent.com/martinring/tmlanguage/master/tmlanguage.json",
    "name": "dothttp-vscode",
    "scopeName": "source.dothttp-vscode",
    "patterns": [
        {
            "include": "source.json"
        },
        {
            "include": "#comment"
        },
        {
            "include": "#number"
        },
        {
            "include": "#language_keyword"
        },
        {
            "include": "#language_operation"
        },
        {
            "include": "#regular_expression"
        },
        {
            "include": "#variables"
        }
    ],
    "repository": {
        "array": {
            "begin": "\\[",
            "beginCaptures": {
                "0": {
                    "name": "punctuation.definition.array.begin.json.comments"
                }
            },
            "end": "\\]",
            "endCaptures": {
                "0": {
                    "name": "punctuation.definition.array.end.json.comments"
                }
            },
            "name": "meta.structure.array.json.comments",
            "patterns": [
                {
                    "include": "#value"
                },
                {
                    "match": ",",
                    "name": "punctuation.separator.array.json.comments"
                },
                {
                    "match": "[^\\s\\]]",
                    "name": "invalid.illegal.expected-array-separator.json.comments"
                }
            ]
        },
        "object": {
            "begin": "\\{",
            "beginCaptures": {
                "0": {
                    "name": "punctuation.definition.dictionary.begin.json.comments"
                }
            },
            "end": "\\}",
            "endCaptures": {
                "0": {
                    "name": "punctuation.definition.dictionary.end.json.comments"
                }
            },
            "name": "meta.structure.dictionary.json.comments",
            "patterns": [
                {
                    "comment": "the JSON object key",
                    "include": "#objectkey"
                },
                {
                    "include": "#comments"
                },
                {
                    "begin": ":",
                    "beginCaptures": {
                        "0": {
                            "name": "punctuation.separator.dictionary.key-value.json.comments"
                        }
                    },
                    "end": "(,)|(?=\\})",
                    "endCaptures": {
                        "1": {
                            "name": "punctuation.separator.dictionary.pair.json.comments"
                        }
                    },
                    "name": "meta.structure.dictionary.value.json.comments",
                    "patterns": [
                        {
                            "comment": "the JSON object value",
                            "include": "#value"
                        },
                        {
                            "match": "[^\\s,^#s,]",
                            "name": "invalid.illegal.expected-dictionary-separator.json.comments"
                        }
                    ]
                },
                {
                    "match": "[^\\s\\}]",
                    "name": "invalid.illegal.expected-dictionary-separator.json.comments"
                }
            ]
        },
        "variables": {
            "begin": "{{\\s*(\\w+)\\s*=\\s*(\\w*)\\s*?",
            "end": "}}",
            "name": "variable.parameter",
            "beginCaptures": {
                "0": {
                    "name": "variable.name"
                },
                "1": {
                    "name": "constant"
                }
            }
        },
        "json": {
            "begin": "((json)|(data))[\\s]*(",
            "end": ")",
            "name": "entity.name.class",
            "patterns": [
                {
                    "include": "#object"
                }
            ]
        },
        "name": {
            "begin": "@name\\(",
            "end": "\\)",
            "name": "entity.name.method",
            "patterns": [
                {
                    "match": ".*",
                    "name": "support.type.property-name"
                },
                {
                    "begin": "\"",
                    "end": "\"",
                    "name": "support.type.property-name"
                },
                {
                    "begin": "'",
                    "end": "'",
                    "name": "support.type.property-name"
                }
            ]
        },
        "url": {
            "begin": "(GET|POST|DELETE|OPTIONS|CONNECT|PUT|HEAD|TRACE)\\s*",
            "beginCaptures": {
                "0": {
                    "name": "variable.other.enummember"
                }
            },
            "end": ".*",
            "endCaptures": {
                "0": {
                    "name": "markup.bold"
                }
            }
        },
        "header": {
            "begin": "(\\w*|\\\".*\\\"|'.*')\\s*[:]",
            "end": "(\\w*|\\\".*\\\")",
            "beginCaptures": {
                "0": {
                    "name": "support.type.property-name"
                },
                "1": {
                    "name": "keyword"
                }
            },
            "endCaptures": {
                "0": {
                    "name": "support.property-value"
                }
            },
            "name": "dothttp.header"
        },
        "query": {
            "begin": "(\\?)\\s*(\\w*|\\\".*\\\"|'.*')\\s*[,=:]",
            "end": "(\\w*|\\\".*\\\")",
            "beginCaptures": {
                "0": {
                    "name": "support.type.property-name.json"
                },
                "1": {
                    "name": "keyword"
                }
            },
            "endCaptures": {
                "0": {
                    "name": "support.property-value"
                }
            },
            "name": "dothttp.query"
        },
        "comment": {
            "patterns": [
                {
                    "match": "#.*$",
                    "name": "comment.line"
                },
                {
                    "match": "//.*$",
                    "name": "comment.line"
                },
                {
                    "name": "comment.block",
                    "begin": "/\\*",
                    "end": "\\*/"
                }
            ]
        },
        "string": {
            "patterns": [
                {
                    "name": "string.quoted.single",
                    "begin": "'",
                    "end": "'"
                },
                {
                    "name": "string.quoted.double",
                    "begin": "\"",
                    "end": "\""
                }
            ]
        },
        "number": {
            "patterns": [
                {
                    "match": "\\b[0-9]+\\b\\.{0,1}",
                    "name": "constant.numeric"
                }
            ]
        },
        "language_keyword": {
            "patterns": [
                {
                    "match": "header",
                    "name": "support.class"
                },
                {
                    "match": "\\(",
                    "name": "constant.language"
                },
                {
                    "match": "\\,",
                    "name": "constant.language"
                },
                {
                    "match": "\\)",
                    "name": "constant.language"
                },
                {
                    "match": "\\:",
                    "name": "constant.language"
                },
                {
                    "match": "basicauth",
                    "name": "support.class"
                },
                {
                    "match": "query",
                    "name": "keyword.other"
                },
                {
                    "match": "\\=",
                    "name": "constant.language"
                },
                {
                    "match": "data",
                    "name": "keyword.other"
                },
                {
                    "match": "fileinput",
                    "name": "keyword.other"
                },
                {
                    "match": "json",
                    "name": "keyword.other"
                },
                {
                    "match": "files",
                    "name": "keyword.other"
                },
                {
                    "match": "output",
                    "name": "keyword.other"
                },
                {
                    "match": "null",
                    "name": "constant.language"
                },
                {
                    "match": "true",
                    "name": "constant.language"
                },
                {
                    "match": "false",
                    "name": "constant.language"
                },
                {
                    "#include": "#json"
                },
                {
                    "include": "#name"
                },
                {
                    "include": "#url"
                },
                {
                    "include": "#query"
                },
                {
                    "#include": "#object"
                },
                {
                    "include": "#array"
                },
                {
                    "include": "#string"
                }
            ]
        },
        "language_operation": {
            "patterns": []
        },
        "regular_expression": {
            "patterns": []
        }
    }
}